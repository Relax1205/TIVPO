# Описание внесённых ошибок в программное обеспечение

**Программа:** Калькулятор  
**Команда:** `Сапоги`  
**Версия ПО:** 1.0 (с преднамеренными ошибками)  
**Дата:** 4 сентября 2025 г.

---

## Общее описание
В рамках учебного проекта в программный продукт **"Калькулятор"** было преднамеренно внесено **8 ошибок** различной природы. Ошибки добавлены для последующего тестирования другими командами и отработки навыков выявления дефектов методом "чёрного ящика".

Все ошибки являются **логическими** или **интерфейсными**, синтаксические ошибки отсутствуют, чтобы программа оставалась исполняемой и стабильной.

---

## Список преднамеренных ошибок

| № | Идентификатор | Название ошибки | Тип ошибки | Условия проявления | Способ обнаружения |
|---|---------------|------------------|------------|---------------------|---------------------|
| 1 | BUG-001 | Деление на ноль возвращает `inf`, а не "Ошибка" | Логическая | При вводе выражения с делением на ноль, например: `5 ÷ 0` | Выполнить `5 ÷ 0 =` → ожидается "Ошибка", фактически: `inf` |
| 2 | BUG-002 | Кнопка `C` не всегда очищает дисплей | Логическая | После нажатия `C` — через 500 мс значение возвращается | Ввести `5+5`, нажать `C`, наблюдать за дисплеем — значение может вернуться |
| 3 | BUG-003 | Операция `×` выполняет сложение вместо умножения | Логическая | При использовании умножения: `3 × 4` | Ввести `3 × 4 =` → ожидается `12`, фактически: `7` |
| 4 | BUG-004 | Вычисления выполняются слева направо, без приоритета операций | Логическая | При смешанных выражениях: `2 + 3 × 4` | Ввести `2 + 3 × 4 =` → ожидается `14`, фактически: `20` |
| 5 | BUG-005 | Первое нажатие кнопки `=` игнорируется | Логическая | При первом нажатии `=` после ввода выражения | Ввести `2 + 2`, нажать `=`, ничего не происходит; второе нажатие работает |
| 6 | BUG-006 | Интерфейс не адаптируется к малому разрешению экрана | Интерфейсная | На экранах с разрешением < 1280×720 | Запустить программу на малом экране — окно выходит за границы |
| 7 | BUG-007 | Возможность ввода нескольких точек в числе | Логическая | При попытке ввести `1.2.3` | Ввести `1.2.3` — калькулятор принимает ввод, хотя число некорректно |
| 8 | BUG-008 | После результата нельзя продолжить вычисления | Логическая | После `=`, при попытке продолжить: `+ 2 =` | `5 + 3 =` → `8`, затем `+ 2 =` → результат некорректный или не обновляется |

---

## Подробное описание каждой ошибки

### BUG-001: Деление на ноль → `inf`
- **Тип:** Логическая
- **Место в коде:** `on_button_click`, блок `except ZeroDivisionError`
- **Суть:** Вместо вывода "Ошибка" при делении на ноль, программа отображает `inf`.
- **Обнаружение:** Выполнить `10 ÷ 0 =` → результат `inf`, что вводит пользователя в заблуждение.

### BUG-002: Кнопка `C` временно очищает дисплей
- **Тип:** Логическая
- **Место в коде:** `on_button_click('C')`, использование `self.root.after(500, ...)`
- **Суть:** После очистки через 500 мс дисплей возвращается к старому значению, если выражение не изменилось.
- **Обнаружение:** Быстро нажать `C` и не вводить новых символов — значение может восстановиться.

### BUG-003: `×` выполняет сложение
- **Тип:** Логическая
- **Место в коде:** `on_button_click`, строка `expr = self.expression.replace('×', '+')`
- **Суть:** Перед вычислением символ `×` заменяется на `+`, что приводит к сложению.
- **Обнаружение:** `3 × 4 = 7` — явный признак ошибки.

### BUG-004: Нарушение приоритета операций
- **Тип:** Логическая
- **Место в коде:** `left_to_right_eval()` — вычисления идут строго слева направо
- **Суть:** Программа не учитывает приоритет умножения и деления.
- **Обнаружение:** `2 + 3 × 4 = 20` вместо `14`.

### BUG-005: Игнорирование первого `=`
- **Тип:** Логическая
- **Место в коде:** `on_button_click('=')`, проверка `if not hasattr(self, 'equals_pressed')`
- **Суть:** Первое нажатие `=` игнорируется, что нарушает ожидания пользователя.
- **Обнаружение:** После ввода выражения первое нажатие `=` не даёт результата.

### BUG-006: Жёстко заданный размер окна
- **Тип:** Интерфейсная
- **Место в коде:** `main()`, строка `root.geometry("350x500")`
- **Суть:** Окно не адаптируется под малые экраны, выходит за границы.
- **Обнаружение:** Запуск на ноутбуке с разрешением 1024×768 — часть интерфейса не видна.

### BUG-007: Нет валидации ввода точки
- **Тип:** Логическая
- **Место в коде:** Отсутствует проверка количества точек в числе
- **Суть:** Можно ввести `1.2.3`, что не является корректным числом.
- **Обнаружение:** Ввести `1.2.3` — калькулятор принимает ввод без предупреждения.

### BUG-008: Невозможность продолжения вычислений
- **Тип:** Логическая
- **Место в коде:** `on_button_click` — после `=` выражение не обновляется корректно
- **Суть:** После результата нельзя продолжить цепочку вычислений.
- **Обнаружение:** `5 + 3 =`, затем `+ 2 =` → результат не `10`, а ошибка или старое значение.

---

## Рекомендации по тестированию
Для выявления ошибок рекомендуется использовать:
- **Метод граничных значений:** `0`, `0.`, `1.2.3`
- **Негативное тестирование:** деление на ноль, пустые выражения
- **Функциональное тестирование:** `2 + 3 × 4`, `5 × 5`
- **Интерфейсное тестирование:** запуск на малом экране
- **Последовательные действия:** проверка продолжения вычислений
